<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">


    <script>
        const ROOM_ID = "<%= roomId %>"
    </script>

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
        integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <!-- shoelace -->
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.14/dist/shoelace/shoelace.css">
    <script type="module"
        src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.14/dist/shoelace/shoelace.esm.js"></script>


    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
    <script src="/socket.io/socket.io.js" defer></script>
    <script src="/javascript/room.js" defer></script>
    <link href="/css/room.css" rel="stylesheet">

    <link rel="icon" type="image/png" href="/img/duo.svg" />
    <title>Chatboard</title>


    <!-- Message sent by You -->
    <script type="text/html" id="my_msg">
    <img src="/img/avatar_blue.svg" class="rounded-circle user_img_msg">
    <div class="msg_box_local">
        <div class="text_content"></div>
        <span class="msg_time_local"></span>
    </div>
    </script>

    <!-- Message sent to you by the other user -->
    <script type="text/html" id="other_msg">
        <div class="msg_box_guest">
            <div class="text_content"></div>
            <span class="msg_time_guest"></span>
        </div>
            <img src="/img/avatar_green.svg" class="rounded-circle user_img_msg">
    </script>

    <!-- announcements -->
    <script type="text/html" id="announcement_msg">
        <div class="msg_box_announcement">
            <div class="text_content"></div>
            <span class="msg_time_announcement"></span>
        </div>
    </script>
</head>

<body>
    <div class='main_room'>
        <video class='video_local'></video>
        <video class='video_guest'></video>
    </div>
    <div class='video-overlays'>
        <div class="card msg_card">
            <div class="card-body msg_card_body smooth-scroll scrollbar-deep-blue"></div>
            <div class="card-footer">
                <form id="send-container" autocomplete="off">
                    <div class="input-group">
                        <input class="form-control" placeholder="Send a message...!" id="message-input"></input>
                        <div class="input-group-append">
                            <button type="submit" class="input-group-text send_btn"><i
                                    class="fas fa-location-arrow"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <footer>
            <div class="text-left" id="btn_left">
                <sl-button class="text-left" type="default" size="large" id="chat_msg_btn" pill>
                    <sl-icon name="chat-text" id='chat_msg'></sl-icon>
                </sl-button>
            </div>
            <div class="text-center">
                <sl-button type="default" size="large" onclick="cameraOnOff()" pill>
                    <sl-icon name="camera-video" id='videocam'></sl-icon>
                </sl-button>
                <sl-button type="danger" size="large" onclick="exitRoom()" pill>
                    <sl-icon name="telephone" id='call_end'></sl-icon>
                </sl-button>
                <sl-button type="default" size="large" onclick="micOnOff()" pill>
                    <sl-icon name="mic" id='mic'></sl-icon>
                </sl-button>
            </div>
        </footer>
    </div>
</body>

</html>